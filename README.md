# Training Service (Producer)

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏. –Ø–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö (Main Data Source) –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

* **CRUD –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫**: –°–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö —Å–µ—Å—Å–∏—è—Ö.
* **–¢—Ä–µ–∫–∏–Ω–≥ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π**: –ó–∞–ø–∏—Å—å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥—Ö–æ–¥–∞—Ö, –≤–µ—Å–∞—Ö –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è—Ö.
* **Event Sourcing**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ Apache Kafka.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Database:** PostgreSQL (–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫)
* **Message Broker:** Apache Kafka (–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π)
* **Pattern:** Transactional Outbox (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ –≤ –ë–î)

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Å–æ–±—ã—Ç–∏—è

–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ Kafka.

**–¢–æ–ø–∏–∫:** `training_events`  
**–¢–∏–ø —Å–æ–±—ã—Ç–∏—è:** `training_created`

### –ü—Ä–∏–º–µ—Ä —Å—Ö–µ–º—ã —Å–æ–±—ã—Ç–∏—è (JSON):

```json
{
  "event_id": "uuid",
  "event_type": "training_created",
  "timestamp": "2026-01-05T12:00:00Z",
  "payload": {
    "training_id": "uuid",
    "user_id": "uuid",
    "exercises": [...]
  }
}


–ú–µ—Ç–æ–¥,–≠–Ω–¥–ø–æ–∏–Ω—Ç,–û–ø–∏—Å–∞–Ω–∏–µ
POST,/api/v1/trainings,–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ Kafka)
GET,/api/v1/trainings/{id},–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
PUT,/api/v1/trainings/{id},–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
DELETE,/api/v1/trainings/{id},–£–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É

üìà –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
–°–µ—Ä–≤–∏—Å –æ–ø–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏:

Training (ID, –î–∞—Ç–∞, –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –°—Ç–∞—Ç—É—Å)

Exercise (–ù–∞–∑–≤–∞–Ω–∏–µ, –û–ø–∏—Å–∞–Ω–∏–µ)

Set (–ü–æ–¥—Ö–æ–¥: –í–µ—Å, –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è, –ü–æ—Ä—è–¥–æ–∫)

### –°–æ–≤–µ—Ç –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Intellectual Honesty):
–¢–∞–∫ –∫–∞–∫ –≤–∞—à —Å–µ—Ä–≤–∏—Å —è–≤–ª—è–µ—Ç—Å—è "–≥–ª–∞–≤–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö", –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É **Atomicity**.
 –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –≤ PostgreSQL –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –∞ Kafka –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —É–ø–∞–ª–∞, –¥–∞–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º–µ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è. 

–†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—á–∏—Ç–∞—Ç—å –ø—Ä–æ –ø–∞—Ç—Ç–µ—Ä–Ω **Transactional Outbox** ‚Äî —ç—Ç–æ –∑–æ–ª–æ—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —Å–≤—è–∑–∫–∏ –ë–î + Kafka,
 —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ `training_created` —Ç–æ—á–Ω–æ —É–π–¥–µ—Ç –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑—É.

–•–æ—Ç–∏—Ç–µ, —è –ø–æ–º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å SQL-—Å—Ö–µ–º—É —Ç–∞–±–ª–∏—Ü –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –æ–ø–∏—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É Kafka-—Å–æ–æ–±—â–µ–Ω–∏—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ?